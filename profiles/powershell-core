Import-Module posh-git
Import-Module oh-my-posh
Import-Module git-aliases -DisableNameChecking

Set-PoshPrompt -Theme  ~/.oh-my-posh.omp.json

#Hide username@domai
$DefaultUser = 'Niles'

#Helper function to clear the screen
function cls { clear }

#Helper function to change directory to developement workspace
function cws { Set-Location C:\Nilesh\Projects }

Import-Module PSReadLine

# Shows navigable menu of all options when hitting Tab
Set-PSReadLineKeyHandler -Key Tab -Function MenuComplete

# Autocompleteion for Arrow keys
Set-PSReadLineOption -HistorySearchCursorMovesToEnd
Set-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward
Set-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward

Set-PSReadLineOption -ShowToolTips
Set-PSReadLineOption -PredictionSource HistoryAndPlugin

#Set the color for Prediction (auto-suggestion)
Set-PSReadlineOption -Colors @{InlinePrediction = [ConsoleColor]::DarkGreen }

Import-Module Get-ChildItemColor

If (-Not (Test-Path Variable:PSise)) {
    # Only run this in the console and not in the ISE
    Import-Module Get-ChildItemColor
    
    Set-Alias l Get-ChildItem -option AllScope
    Set-Alias ls Get-ChildItemColorFormatWide -option AllScope
}

#kubectl aliases to improve productivity - https://github.com/shanoor/kubectl-aliases-powershell
. $Home\Documents\PowerShell\kubectl_aliases.ps1

$env:PYTHONIOENCODING="utf-8"
function fuck {
    $history = (Get-History -Count 1).CommandLine;
    if (-not [string]::IsNullOrWhiteSpace($history)) {
        $fuck = $(thefuck $args $history);
        if (-not [string]::IsNullOrWhiteSpace($fuck)) {
            if ($fuck.StartsWith("echo")) { $fuck = $fuck.Substring(5); }
            else { iex "$fuck"; }
        }
    }
    [Console]::ResetColor() 
}

Set-Alias correct fuck -option AllScope

